{
  "type": "bonjson-test",
  "version": "1.0.0",
  "//": "Examples taken directly from the BONJSON specification document",
  "tests": [
    {
      "//": "Short String examples from spec",
      "name": "spec_short_string_empty",
      "type": "encode",
      "input": "",
      "expected_bytes": "65"
    },
    {
      "name": "spec_short_string_a",
      "type": "encode",
      "input": "A",
      "expected_bytes": "6641"
    },
    {
      "//": "Japanese 'ohayou' (good morning)",
      "name": "spec_short_string_japanese",
      "type": "encode",
      "input": "おはよう",
      "expected_bytes": "71e3818ae381afe38288e38186"
    },
    {
      "name": "spec_short_string_15bytes",
      "type": "encode",
      "input": "15 byte string!",
      "expected_bytes": "743135206279746520737472696e6721"
    },
    {
      "//": "Long String examples from spec",
      "name": "spec_long_string_empty",
      "type": "decode",
      "input_bytes": "ffff",
      "expected_value": ""
    },
    {
      "name": "spec_long_string_astring",
      "type": "decode",
      "input_bytes": "ff6120737472696e67ff",
      "expected_value": "a string"
    },
    {
      "//": "64 Z's encoded as long string (spec example uses ff...ff framing)",
      "name": "spec_long_string_64chars",
      "type": "decode",
      "input_bytes": "ff5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5a5aff",
      "expected_value": "ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ"
    },
    {
      "//": "Small Integer examples from spec (value = type_code)",
      "name": "spec_smallint_100",
      "type": "encode",
      "input": 100,
      "expected_bytes": "64"
    },
    {
      "name": "spec_smallint_5",
      "type": "encode",
      "input": 5,
      "expected_bytes": "05"
    },
    {
      "name": "spec_smallint_0",
      "type": "encode",
      "input": 0,
      "expected_bytes": "00"
    },
    {
      "//": "Integer examples from spec - 180 can be uint8 or sint16",
      "name": "spec_int_180",
      "type": "roundtrip",
      "input": 180
    },
    {
      "//": "Decode test: 180 encoded as uint8 (spec example)",
      "name": "decode_spec_int_180_uint8",
      "type": "decode",
      "input_bytes": "a8b4",
      "expected_value": 180
    },
    {
      "name": "spec_int_neg1000",
      "type": "encode",
      "input": -1000,
      "expected_bytes": "ad18fc"
    },
    {
      "//": "32768 can be uint16 or sint32",
      "name": "spec_int_32768",
      "type": "roundtrip",
      "input": 32768
    },
    {
      "//": "Decode test: 32768 encoded as uint16 (spec example)",
      "name": "decode_spec_int_32768_uint16",
      "type": "decode",
      "input_bytes": "a90080",
      "expected_value": 32768
    },
    {
      "name": "spec_int_min_int64",
      "type": "encode",
      "input": -9223372036854775808,
      "expected_bytes": "af0000000000000080",
      "requires": ["int64"]
    },
    {
      "//": "0xded0d0d0dedadada",
      "name": "spec_uint64_example",
      "type": "encode",
      "input": {
        "$number": "16055562267086478042"
      },
      "expected_bytes": "abdadadaded0d0d0de",
      "requires": ["uint64"]
    },
    {
      "//": "Encoding guidance: 127 fits in 1 byte signed or unsigned, prefer signed",
      "name": "spec_encode_guidance_127_signed",
      "type": "decode",
      "input_bytes": "ac7f",
      "expected_value": 127
    },
    {
      "//": "Encoding guidance: 128 requires 2 bytes signed but only 1 byte unsigned",
      "name": "spec_encode_guidance_128_unsigned",
      "type": "decode",
      "input_bytes": "a880",
      "expected_value": 128
    },
    {
      "//": "Float32 example from spec: 0x1.3f7p5",
      "name": "spec_float32",
      "type": "decode",
      "input_bytes": "b000b81f42",
      "expected_value": {
        "$number": "0x1.3f7p5"
      }
    },
    {
      "//": "Float64 example from spec",
      "name": "spec_float64",
      "type": "encode",
      "input": 1.234,
      "expected_bytes": "b15839b4c876bef33f"
    },
    {
      "//": "BigNumber: 2 (exponent=0, signed_length=+1, magnitude=2)",
      "name": "spec_bignumber_2",
      "type": "decode",
      "input_bytes": "b2000202",
      "expected_value": 2
    },
    {
      "//": "BigNumber: -1 (exponent=0, signed_length=-1, magnitude=1)",
      "name": "spec_bignumber_neg1",
      "type": "decode",
      "input_bytes": "b2000101",
      "expected_value": -1
    },
    {
      "//": "BigNumber: 1.5 = 15 * 10^-1",
      "name": "spec_bignumber_1_5",
      "type": "decode",
      "input_bytes": "b201020f",
      "expected_value": {
        "$number": "1.5"
      }
    },
    {
      "//": "BigNumber: 1000 (exponent=2, signed_length=+1, magnitude=10)",
      "name": "spec_bignumber_1000",
      "type": "decode",
      "input_bytes": "b204020a",
      "expected_value": 1000
    },
    {
      "//": "BigNumber zero: signed_length=0 always means positive zero",
      "name": "spec_bignumber_zero",
      "type": "decode",
      "input_bytes": "b20000",
      "expected_value": 0
    },
    {
      "//": "Empty array from spec",
      "name": "spec_empty_array",
      "type": "decode",
      "input_bytes": "b7b6",
      "expected_value": []
    },
    {
      "//": "Array [1] from spec",
      "name": "spec_array_1",
      "type": "decode",
      "input_bytes": "b701b6",
      "expected_value": [1]
    },
    {
      "//": "Array example from spec: [\"a\", 1, null]",
      "name": "spec_array",
      "type": "encode",
      "input": ["a", 1, null],
      "expected_bytes": "b7666101b3b6"
    },
    {
      "//": "Empty object from spec",
      "name": "spec_empty_object",
      "type": "decode",
      "input_bytes": "b8b6",
      "expected_value": {}
    },
    {
      "//": "Object example from spec (roundtrip since key order is unspecified)",
      "name": "spec_object",
      "type": "roundtrip",
      "input": {
        "b": 0,
        "test": "x"
      }
    },
    {
      "//": "Typed uint8 array [1, 2, 3] from spec",
      "name": "spec_typed_uint8_array",
      "type": "decode",
      "input_bytes": "fe03010203",
      "expected_value": [1, 2, 3]
    },
    {
      "//": "Typed float64 array [1.234, 5.678] from spec",
      "name": "spec_typed_float64_array",
      "type": "decode",
      "input_bytes": "f5025839b4c876bef33f83c0caa145b61640",
      "expected_value": [1.234, 5.678]
    },
    {
      "//": "Empty typed uint32 array from spec",
      "name": "spec_typed_uint32_empty",
      "type": "decode",
      "input_bytes": "fc00",
      "expected_value": []
    },
    {
      "//": "Record example: def [name, age] + array of two instances",
      "name": "spec_record_array",
      "type": "decode",
      "input_bytes": "b9696e616d6568616765b6b7ba006a416c6963651eb6ba0068426f6219b6b6",
      "expected_value": [{"name": "Alice", "age": 30}, {"name": "Bob", "age": 25}]
    },
    {
      "//": "Record with early end marker: fewer values than keys default to null",
      "name": "spec_record_early_end",
      "type": "decode",
      "input_bytes": "b9666166626663b6ba0001b6",
      "expected_value": {"a": 1, "b": null, "c": null}
    },
    {
      "//": "Boolean examples from spec",
      "name": "spec_bool_false",
      "type": "encode",
      "input": false,
      "expected_bytes": "b4"
    },
    {
      "name": "spec_bool_true",
      "type": "encode",
      "input": true,
      "expected_bytes": "b5"
    },
    {
      "//": "Null example from spec",
      "name": "spec_null",
      "type": "encode",
      "input": null,
      "expected_bytes": "b3"
    },
    {
      "//": "Full example from spec (roundtrip since key order is unspecified)",
      "name": "spec_full_example",
      "type": "roundtrip",
      "input": {
        "number": 50,
        "null": null,
        "boolean": true,
        "array": [
          "x",
          1000,
          -1.25
        ],
        "object": {
          "negative number": -100,
          "long string": "1234567890123456789012345678901234567890123456789012345678901234"
        }
      }
    }
  ]
}
